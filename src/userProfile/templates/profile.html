{% extends "base.html" %} {% block title %}Profile{% endblock title %}
{% block css %}
<style>
  .profile-card {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
  }

  .form-group {
    margin-bottom: 1rem;
  }
  .profile-picture img {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
  }
</style>
{% endblock css %}
{% block body %}

<!-- Profile Content -->
<div class="col-md-15 p-4">
  <h3>Profile</h3>

  <!-- Profile Card -->
  <div class="profile-card mb-4">
    <div class="row">
      <div class="col-md-3 text-center profile-picture">
        <img src="https://via.placeholder.com/150" alt="Profile Picture" />
        <form class="mt-3">
          <input class="form-control" type="file" id="profilePicture" />
          <button type="submit" class="btn btn-primary mt-2">Upload</button>
        </form>
      </div>
      <div class="col-md-15">
        <h5><p>{{ user.username | upper}}</p></h5>

        <p><strong>Email:</strong> {{con.email }}</p>
        <p><strong>Phone:</strong> {{con.contact}}</p>
        <p><strong>Date of Birth:</strong> {{c.dob}}</p>
      </div>
    </div>
  </div>

  
      <div class="profile-card mb-6">
        <form method="POST" action="{% url 'profile_updated' user.id %}">
          <!-- Set the action URL correctly -->
          {% csrf_token %}
          <!-- Personal Information -->
          <div class="profile-card mb-4">
            <h5>Personal Information</h5>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>UserName</label>
                <input
                  type="text"
                  id="username"
                  name="username"
                  class="form-control"
                  value="{{ user.username | upper }}"
                  required
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Title</label>
                <input
                  type="text"
                  id="title"
                  name="title"
                  class="form-control"
                  value="{{ c.title | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>First Name</label>
                <input
                  type="text"
                  id="firstname"
                  name="firstname"
                  class="form-control"
                  value="{{ c.first_name | upper }}"
                  required
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Middle Name</label>
                <input
                  type="text"
                  name="middlename"
                  class="form-control"
                  value="{{ c.middle_name | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Last Name</label>
                <input
                  type="text"
                  name="lastname"
                  class="form-control"
                  value="{{ c.last_name | upper }}"
                  required
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Gender</label>
                <input
                  type="text"
                  name="gender"
                  class="form-control"
                  value="{{ c.gender | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Pan Card Number</label>
                <input
                  type="text"
                  name="pan"
                  class="form-control"
                  value="{{ c.pan | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Addhar Card Number</label>
                <input
                  type="text"
                  name="addhar"
                  class="form-control"
                  value="{{ c.aadhaar | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Occupation</label>
                <input
                  type="text"
                  name="occupation"
                  class="form-control"
                  value="{{ c.occupation | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Annual Income</label>
                <input
                  type="text"
                  name="annum"
                  class="form-control"
                  value="{{ c.annual_income | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Nationality</label>
                <input
                  type="text"
                  name="nationality"
                  class="form-control"
                  value="{{ c.nationality | upper }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Account Opening Date</label>
                <input
                  type="text"
                  class="form-control"
                  value="{{ c.account_opening_date_time | upper }}"
                  readonly
                />
              </div>
              <div class="col-md-6 form-group">
                <label for="email">Email Address</label>
                <input
                  type="email"
                  name="email"
                  class="form-control"
                  placeholder="Enter your email"
                  value="{{ con.email }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label for="phoneNumber">Phone Number</label>
                <input
                  type="tel"
                  name="phone"
                  class="form-control"
                  placeholder="Enter your phone number"
                  value="{{ con.contact }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label for="dob">Date of Birth</label>
                <input
                  type="datetime"
                  name="dob"
                  class="form-control"
                  value="{{ c.dob }}"
                />
              </div>
              <div class="row">
                <div class="col-md-12">
                  <button type="submit" class="btn btn-primary">Save</button>
                </div>
              </div>
            </div>
          </div>
        </form>
        <form method="POST" action="{% url 'address_updated' user.id %}">
          <!-- Set the action URL correctly -->
          {% csrf_token %}
          <!-- Address Information -->
          <div class="profile-card mb-4">
            <h5>Address Information</h5>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Address Type</label>
                <input
                  type="text"
                  name="addresstype"
                  class="form-control"
                  value="{{ add.address_type | capfirst }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>House NO:</label>
                <input
                  type="text"
                  name="hono"
                  class="form-control"
                  value="{{ add.house_no | capfirst }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Street</label>
                <input
                  type="text"
                  name="street"
                  class="form-control"
                  value="{{ add.street | capfirst }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>City</label>
                <input
                  type="text"
                  name="city"
                  class="form-control"
                  value="{{ add.city | capfirst }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>State</label>
                <input
                  type="text"
                  name="state"
                  class="form-control"
                  value="{{ add.state | capfirst }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Country</label>
                <input
                  type="text"
                  name="country"
                  class="form-control"
                  value="{{ add.country | capfirst }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Pincode</label>
                <input
                  type="text"
                  name="pincode"
                  class="form-control"
                  value="{{ add.pincode }}"
                />
              </div>
              <div class="col-md-12">
                <button
                  type="submit"
                  name="action"
                  value="update_address"
                  class="btn btn-primary"
                >
                Save
                </button>
         
              </div>
            </div>
          </div>
        </form>
        <form method="POST" action="{% url 'contact_updated' user.id %}">
          <!-- Set the action URL correctly -->
          {% csrf_token %}
          <!-- Contact Information -->
          <div class="profile-card mb-4">
            <h5>Contact Information</h5>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Contact Type</label>
                <input
                  type="text"
                  name="contacttype"
                  class="form-control"
                  value="{{ con.contact_type | capfirst }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Contact No</label>
                <input
                  type="text"
                  name="contact"
                  class="form-control"
                  value="{{ con.contact }}"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Email</label>
                <input
                  type="text"
                  name="contact_email"
                  class="form-control"
                  value="{{ con.email }}"
                />
              </div>
              <div class="col-md-12">
                <button
                  type="submit"
                  name="action"
                  value="update_contact"
                  class="btn btn-primary"
                >
                  Save
                </button>
           
              </div>
            </div>
          </div>
        </form>
        <form method="POST" action="{% url 'contact_pref' user.id %}">
          {% csrf_token %}
          <!-- Contact Preferences -->
          <div class="profile-card mb-4">
              <h5>Contact Preferences</h5>
              
              <div class="form-group">
                  <label for="emailNotifications">Email Notifications</label>
                  {% if pref %}
                      <p>{{ pref.emailnotification }}</p>
                  {% else %}
                      <p>No email preferences set.</p>
                  {% endif %}
      
                  <select id="emailNotifications" name="emailNotifications" class="form-select">
                      <option value="all" {% if pref and pref.emailnotification == 'all' %}selected{% endif %}>All</option>
                      <option value="important" {% if pref and pref.emailnotification == 'important' %}selected{% endif %}>Important Only</option>
                      <option value="none" {% if pref and pref.emailnotification == 'none' %}selected{% endif %}>None</option>
                  </select>
              </div>
      
              <div class="form-group mt-3">
                  <label for="smsNotifications">SMS Notifications</label>
                  {% if pref %}
                      <p>{{ pref.smsnotification }}</p>
                  {% else %}
                      <p>No SMS preferences set.</p>
                  {% endif %}
      
                  <select id="smsNotifications" name="smsNotifications" class="form-select">
                      <option value="all" {% if pref and pref.smsnotification == 'all' %}selected{% endif %}>All</option>
                      <option value="important" {% if pref and pref.smsnotification == 'important' %}selected{% endif %}>Important Only</option>
                      <option value="none" {% if pref and pref.smsnotification == 'none' %}selected{% endif %}>None</option>
                  </select>
              </div>
      
              <button type="submit" name="action" value="save_preferences" class="btn btn-primary mt-3">
                  Save Preferences
              </button>
          </div>
      </form>
      

        <!-- Two-Factor Authentication -->
        <div class="profile-card mb-4">
          <h5>Two-Factor Authentication</h5>
          <p>
            Enhance your account security by enabling two-factor authentication
            (2FA).
          </p>
          <form>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="enable2FA" />
              <label class="form-check-label" for="enable2FA">
                Enable Two-Factor Authentication
              </label>
            </div>
            <button type="submit" class="btn btn-primary mt-3">
              Update Settings
            </button>
          </form>
        </div>

        <!-- Linked Accounts -->
        <div class="profile-card">
          <h5>Linked Accounts</h5>
          <ul class="list-group">
            <li class="list-group-item">
              <strong>Google</strong>
              <span class="badge bg-success">Linked</span>
            </li>
            <li class="list-group-item">
              <strong>Facebook</strong>
              <span class="badge bg-danger">Not Linked</span>
            </li>
            <li class="list-group-item">
              <strong>Twitter</strong>
              <span class="badge bg-warning">Linked</span>
            </li>
          </ul>
          <button type="button" class="btn btn-primary mt-3">
            Manage Linked Accounts
          </button>
        </div>
      </div>
    </div>
  </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

{% endblock body %}
